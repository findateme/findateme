<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DateMe â€” Notifications</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body data-page="people">
  <header class="topbar">
    <div class="topbar__inner">
      <div class="topbar__left">
        <a class="logo" href="home.html" aria-label="DateMe Home">
          <svg class="logoMark" viewBox="0 0 120 120" role="img" aria-hidden="true">
            <path d="M60 104 C60 104, 18 76, 18 42 C18 22, 34 10, 50 10 C67 10, 79 23, 84 33 C89 23, 101 10, 118 10 C134 10, 150 22, 150 42 C150 76, 60 104, 60 104 Z" fill="none" stroke="rgba(255,255,255,.92)" stroke-width="8" stroke-linejoin="round" stroke-linecap="round" transform="translate(-24,0)" />
            <path d="M60 100 C60 100, 24 74, 24 44 C24 28, 36 18, 50 18 C64 18, 74 27, 80 36 C86 27, 96 18, 110 18 C124 18, 136 28, 136 44 C136 74, 60 100, 60 100 Z" fill="none" stroke="rgba(255,77,109,.95)" stroke-width="4" stroke-linejoin="round" stroke-linecap="round" transform="translate(-8,0)" opacity=".95" />
          </svg>
          <span class="logoType"><b>Date</b>Me</span>
        </a>
      </div>
      <div class="topbar__right">
        <a class="pill ghost" href="home.html">Back</a>
      </div>
    </div>
  </header>

  <main class="layout" style="grid-template-columns:1fr;">
    <section class="content">
      <div class="card-shell card-shell--compact" style="max-width:720px; margin:18px auto;">
        <div class="orbit" aria-hidden="true">
          <span class="orbit__heart h1">ğŸ’—</span>
          <span class="orbit__heart h2">ğŸ’–</span>
          <span class="orbit__heart h3">ğŸ’</span>
          <span class="orbit__heart h4">ğŸ’˜</span>
          <span class="orbit__heart h5">ğŸ’•</span>
          <span class="orbit__heart h6">ğŸ’œ</span>
          <span class="orbit__heart h7">ğŸ’“</span>
          <span class="orbit__heart h8">ğŸ’</span>
        </div>
        <div class="cardbox">
          <h1 class="h1" style="margin-bottom:6px;">Notifications</h1>
          <p class="muted" style="margin-top:0;">Your latest updates.</p>
          <div id="notifyList" style="display:grid; gap:10px; margin-top:12px;"></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const list = document.getElementById("notifyList");
    let items = [];
    const getActiveEmail = () => String(localStorage.getItem("dateme_active_user") || "").trim().toLowerCase();
    const readActiveProfile = () => {
      const email = getActiveEmail();
      if (email){
        try{ return JSON.parse(localStorage.getItem(`dateme_profile_${email}`) || "{}"); }
        catch(e){ return {}; }
      }
      try{ return JSON.parse(localStorage.getItem("dateme_profile") || "{}"); }
      catch(e){ return {}; }
    };
    const getUserKey = () => {
      const active = getActiveEmail();
      if (active) return active;
      const profile = readActiveProfile();
      const email = String(profile?.email || "").trim().toLowerCase();
      return email || "guest";
    };
    const key = `dateme_notifications_${getUserKey()}`;
    try{ items = JSON.parse(localStorage.getItem(key) || "[]"); }catch(e){ items = []; }
    if (!items.length){
      list.innerHTML = '<div class="cardbox small">No notifications yet.</div>';
    } else {
      list.innerHTML = items.map(n => (
        `<div class="cardbox small">${n.text}</div>`
      )).join("");
      const updated = items.map(n => ({ ...n, read: true }));
      localStorage.setItem(key, JSON.stringify(updated));
    }
  </script>
</body>
</html>
